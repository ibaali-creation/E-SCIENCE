<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Share with community</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Mentor - v4.7.0
  * Template URL: https://bootstrapmade.com/mentor-free-education-bootstrap-theme/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top">
      <div class="container d-flex align-items-center">
  
        <h1 class="logo me-auto"><a href="index.html">E-science</a></h1>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html" class="logo me-auto"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
  
        <nav id="navbar" class="navbar order-last order-lg-0">
          <ul>
            <li><a  href="index.html">Home</a></li>
            <li><a href="titles.PHP">titles</a></li>
            
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
        </nav><!-- .navbar -->
  
        <a href="share.html" class="get-started-btn">upload files</a>
  
      </div>
    </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs" data-aos="fade-in">
      <div class="container">
        <h2>share content</h2>
      </div>
    </div><!-- End Breadcrumbs -->

    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">

      <div class="container" data-aos="fade-up">

        <div class="row mt-5">
          <div class="col-lg-4">
            <form action="forms\upload.php" method="post" enctype="multipart/form-data"role="form" class="php-email-form">
            <div class="col-lg-4">
              <button id="upload-button">Select PDF</button> 
              <input type="file" name="fileToUpload" id="fileToUpload" accept="application/pdf" />
              <div id="pdf-main-container">
                <div id="pdf-loader">Loading document ...</div>
                <div id="pdf-contents">
                  <canvas type="file" name="pdf-canvas" id="pdf-canvas" width="400"></canvas>
                  <div id="page-loader">Loading page ...</div>
                </div>
              </div>

            </div>
          </div>
        
          <div class="col-lg-8 mt-5 mt-lg-0">

              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="text" name="publisher" class="form-control" id="name" placeholder="Your Name" required>
                </div>
                <div class="col-md-6 form-group mt-3 mt-md-0">
                  <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" >
                </div>
              </div>
              <div class="form-group mt-3">
                <input type="text" class="form-control" name="title" id="title" placeholder="title" required>
              </div>
              <div class="form-group mt-3">
                <textarea class="form-control" name="description" rows="5" placeholder="description"></textarea>
              </div>
              <br>
              <div class="text-center php-email-form"><button type="submit" value="submit" onclick = "myfunction()" name="submit">share with community</button></div>
            </form>

          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

  <div class="container d-md-flex py-4">

    <div class="me-md-auto text-center text-md-start">
      <div class="copyright">
        &copy; Copyright <strong><span>E-science</span></strong>. All Rights Reserved
      </div>
    </div>
    <div class="social-links text-center text-md-right pt-3 pt-md-0">
      <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
      <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
      <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
      <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
      <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
    </div>
  </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>


  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="assets/js/pdf.js"></script>
  <script src="assets/js/pdf.worker.js"></script>
  <script>

    var __PDF_DOC,
      __CURRENT_PAGE,
      __TOTAL_PAGES,
      __PAGE_RENDERING_IN_PROGRESS = 0,
      __CANVAS = $('#pdf-canvas').get(0),
      __CANVAS_CTX = __CANVAS.getContext('2d');
    
    function showPDF(pdf_url) {
      $("#pdf-loader").show();
    
      PDFJS.getDocument({ url: pdf_url }).then(function(pdf_doc) {
        __PDF_DOC = pdf_doc;
        __TOTAL_PAGES = __PDF_DOC.numPages;
        
        // Hide the pdf loader and show pdf container in HTML
        $("#pdf-loader").hide();
        $("#pdf-contents").show();
        $("#pdf-total-pages").text(__TOTAL_PAGES);
    
        // Show the first page
        showPage(1);
      }).catch(function(error) {
        // If error re-show the upload button
        $("#pdf-loader").hide();
        $("#upload-button").show();
        
        alert(error.message);
      });;
    }
    
    function showPage(page_no) {
      __PAGE_RENDERING_IN_PROGRESS = 1;
      __CURRENT_PAGE = page_no;
    
    
      // While page is being rendered hide the canvas and show a loading message
      $("#pdf-canvas").hide();
      $("#page-loader").show();
      $("#download-image").hide();
    
      // Update current page in HTML
      $("#pdf-current-page").text(page_no);
      
      // Fetch the page
      __PDF_DOC.getPage(page_no).then(function(page) {
        // As the canvas is of a fixed width we need to set the scale of the viewport accordingly
        var scale_required = __CANVAS.width / page.getViewport(1).width;
    
        // Get viewport of the page at required scale
        var viewport = page.getViewport(scale_required);
    
        // Set canvas height
        __CANVAS.height = viewport.height;
    
        var renderContext = {
          canvasContext: __CANVAS_CTX,
          viewport: viewport
        };
        
        // Render the page contents in the canvas
        page.render(renderContext).then(function() {
          __PAGE_RENDERING_IN_PROGRESS = 0;
    
          // Re-enable Prev & Next buttons
          $("#pdf-next, #pdf-prev").removeAttr('disabled');
    
          // Show the canvas and hide the page loader
          $("#pdf-canvas").show();
          $("#page-loader").hide();
          $("#download-image").show();
        });
      });
    }
    
    // Upon click this should should trigger click on the #file-to-upload file input element
    // This is better than showing the not-good-looking file input element
    $("#upload-button").on('click', function() {
      $("#fileToUpload").trigger('click');
    });
    
    // When user chooses a PDF file
    $("#fileToUpload").on('change', function() {
      // Validate whether PDF
        if(['application/pdf'].indexOf($("#fileToUpload").get(0).files[0].type) == -1) {
            alert('Error : Not a PDF');
            return;
        }
    
      $("#upload-button").hide();
    
      // Send the object url of the pdf
      showPDF(URL.createObjectURL($("#fileToUpload").get(0).files[0]));
    });
    
    // Download button
    $("#download-image").on('click', function() {
      $(this).attr('href', __CANVAS.toDataURL()).attr('download', 'page.png');
    });
    
    
    </script>



</body>

</html>